services:
  shiny:
    build:
      context: .
      target: development
    ports: ['3838:3838']
    dns:
      - 8.8.8.8
      - 8.8.4.4
    volumes:
      # Mount application code for hot reloading
      - './app.R:/srv/shiny-server/app.R:ro'
      - './analysis-report.Rmd:/srv/shiny-server/analysis-report.Rmd:ro'
      - './R:/srv/shiny-server/R:ro'
      - './www:/srv/shiny-server/www:ro'
      # Mount tests directory in development
      - './tests:/srv/shiny-server/tests:ro'
